<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link rel="stylesheet" href="product_details.css">
</head>
<body>
    <h1>Product Details</h1>
    <div id="product-details"></div> -->

    <!-- <script>
        // Function to fetch and render product details
        function fetchProductDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');

            fetch(`http://localhost:8080/api/products/{id}/${Id}`)
                .then(response => response.json())
                .then(product => {
                    const productDetails = document.getElementById('product-details');
                    productDetails.innerHTML = `
                        <h2>${product.name}</h2>
                        <p>Price: $${product.price}</p>
                        <p>Specifications: ${product.specs}</p>
                        <img src="/uploads/ + ${product.image}" class="product-img" alt="${product.name}">
                       
                        Add more details here as needed
                    `;
                    // img.classList.add('product-img');
                    //     img.src = '/uploads/' + product.image;
                    //     listItem.appendChild(img);
                })
                .catch(error => console.error('Error fetching product details:', error));
        }

        // Fetch and render product details when the page loads
        window.onload = fetchProductDetails;
    </script> -->
<!-- </body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <!-- <link rel="stylesheet" href="product_details.css"> -->
    <style>
        .product-img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Product Details</h1>
    <div id="product-details"></div>
<div class="button">
   
</div>
    <script>
        
      
        // Function to fetch and render product details
        function fetchProductDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');

            fetch(`http://localhost:8080/api/view_products/${productId}`)
                .then(response => response.json())
                .then(product => {
                    console.log(product.image)
                    const productDetails = document.getElementById('product-details');
                    const img = document.createElement('img');
                    img.classList.add('product-img');
                    img.src = '../uploads/' + product.image;
                    productDetails.appendChild(img);

                    productDetails.innerHTML = `
                        <h2>${product.name}</h2>
                        <p>Price: $${product.price}</p>
                        <p>Specifications: ${product.specs}</p>
                        <p><img src ="${img.src}"></p>
                        <button id="editButton">Edit</button>
                        // <button id="deleteButton">Delet---87765e</button>

                        <button onclick="deleteProduct(${product.ID})">Delete</button>
        
                        <!-- Add more details here as needed -->
                       
                    `;
                    // document.getElementById('deleteButton').addEventListener('click', function() {
                    //     // Trigger delete functionality
                    //     deleteProduct(productId);
                    // });
                })
                .catch(error => console.error('Error fetching product details:', error));
        }


          
        // Fetch and render product details when the page loads
        window.onload = fetchProductDetails;
 
        
    
           // function editProduct(productId) {
            //     window.location.href = `edit_product.html?id=${productId}`;
            // }

        function deleteProduct(productId) {
                if (confirm("Are you sure you want to delete this product?")) {
                    fetch(`http://localhost:8080/delete_products/${productId} `,{
                        method: "DELETE"
                    })
                        .then(response => {
                            if (response.ok) {
                                window.location.reload();
                            } else {
                                console.error("Error deleting product");
                            }
                        })
                        .catch(error => {
                            console.error("Error:", error);
                        });
                }
            }

        
    </script>
</body>
</html>
